(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{174:function(e,t,n){"use strict";(function(e,t){var r=n(4);n(26);r(n(25));var o=r(n(175));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},175:function(e,t,n){"use strict";n.r(t);var r=n(176),o=n(178);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n(181),n(183);var a,s=n(42),u=Object(s["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,"57280228",null,!1,r["components"],a);u.options.__file="pages/index/index.vue",t["default"]=u.exports},176:function(e,t,n){"use strict";n.r(t);var r=n(177);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},177:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return r}));try{r={uSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-swiper/u-swiper")]).then(n.bind(null,744))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,752))},login:function(){return Promise.all([n.e("common/vendor"),n.e("components/login/login")]).then(n.bind(null,761))},height:function(){return n.e("components/height/height").then(n.bind(null,768))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement;e._self._c},i=!1,a=[];o._withStripped=!0},178:function(e,t,n){"use strict";n.r(t);var r=n(179),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},179:function(e,t,n){"use strict";(function(e){var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(30)),i=r(n(18)),a=r(n(32)),s=r(n(11)),u=r(n(35)),c=n(39),l=n(180),d=(n(36),r(n(67)),n(44));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={data:function(){return{Httpimg:u.default.HttpImg,title:"Hello",list1:[],list21:[],list2:[],userall:{},public:{},display:!1,enter:!1,common:e.getStorageSync("public")||""}},onLoad:function(t){t.pid&&e.setStorageSync("pid",t.pid),t.scene&&e.setStorageSync("pid",t.scene),this.index_listApi_1(),this.index_listApi_2(),this.index_listApi_3()},onShow:function(){this.enter=!1,this.commonApi(),this.getUser()},computed:p(p({},(0,d.mapState)(["islogin"])),{},{c_user:function(){return e.getStorageSync("user")}}),methods:{loadpage:function(){this.unloadpage()},getUser:function(){return(0,a.default)(o.default.mark((function t(){var n,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.getStorageSync("userinfo").token,!n){t.next=7;break}return t.next=4,(0,c.userInfo)();case 4:r=t.sent,e.hideToast(),1==r.code&&e.setStorageSync("user",r.data);case 7:case"end":return t.stop()}}),t)})))()},scanCode:function(t){e.scanCode({success:function(t){if(e.removeStorageSync("peopleCount"),t.path){var n=e.getStorageSync("option");3!==n&&(0,l.order_empty)(),e.setStorageSync("option",3),e.setStorageSync("tableNumber",!1),e.reLaunch({url:t.path})}else e.showToast({title:"座号二维码有误，请重新扫一扫！",icon:"none"})}})},commonApi:function(){var t=this;(0,c.common)().then((function(n){1==n.code&&(e.setStorageSync("public",n.data),t.common=n.data,t.public=Object.assign({},e.getStorageSync("public")),e.getStorageSync("user")||e.setStorageSync("user",n.data),t.userall=Object.assign({},e.getStorageSync("user")),t.display=!0),e.hideToast()}))},router:function(t){return(0,a.default)(o.default.mark((function n(){var r,i,a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.getStorageSync("shop"),i=e.getStorageSync("option"),n.next=4,(0,l.store_default)({id:r||""});case 4:if(a=n.sent,1!=a.code){n.next=15;break}if(2!=t){n.next=12;break}if(0!=a.data.takeaway_switch){n.next=10;break}return e.showToast({title:"该店铺暂不支持外卖",icon:"none"}),n.abrupt("return");case 10:n.next=15;break;case 12:if(0!=a.data.delivery_switch){n.next=15;break}return e.showToast({title:"该店铺暂不支持自提",icon:"none"}),n.abrupt("return");case 15:i!==t&&(0,l.order_empty)(),e.setStorageSync("tableNumber",!1),e.setStorageSync("option",t),e.reLaunch({url:"/pages/order/order"});case 19:case"end":return n.stop()}}),n)})))()},swp:function(t){if(e.getStorageSync("userinfo")){var n=["/pages/index/index","/pages/order/order","/pages/order_form/order_form","/pages/me/me"];n.includes(this.list2[t].url)?e.switchTab({url:this.list2[t].url}):e.navigateTo({url:this.list2[t].url})}else this.enter=!0},hadeswp:function(t){if(e.getStorageSync("userinfo")){var n=["/pages/index/index","/pages/order/order","/pages/order_form/order_form","/pages/me/me"];n.includes(this.list1[t].url)?e.switchTab({url:this.list1[t].url}):e.navigateTo({url:this.list1[t].url})}else this.enter=!0},contact:function(e){},index_listApi_1:function(){var e=this;return(0,a.default)(o.default.mark((function t(){var n,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.index_list)({type:1});case 2:r=t.sent,e.list1=[],(n=e.list1).push.apply(n,(0,i.default)(r.data));case 5:case"end":return t.stop()}}),t)})))()},index_listApi_2:function(){var e=this;return(0,a.default)(o.default.mark((function t(){var n,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.index_list)({type:2});case 2:r=t.sent,e.list2=[],(n=e.list2).push.apply(n,(0,i.default)(r.data));case 5:case"end":return t.stop()}}),t)})))()},index_listApi_3:function(){var e=this;return(0,a.default)(o.default.mark((function t(){var n,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.index_list)({type:5});case 2:r=t.sent,e.list21=[],(n=e.list21).push.apply(n,(0,i.default)(r.data));case 5:case"end":return t.stop()}}),t)})))()},funislogin:function(){e.getStorageSync("userinfo")||(this.enter=!0)},routergo:function(t){if(e.getStorageSync("userinfo"))if(e.getStorageSync("userinfo")){var n=["/pages/index/index","/pages/order/order","/pages/order_form/order_form","/pages/me/me"];n.includes(t)?e.switchTab({url:t}):e.navigateTo({url:t})}else this.enter=!0;else this.enter=!0},closepage:function(){this.enter=!1}}};t.default=g}).call(this,n(2)["default"])},181:function(e,t,n){"use strict";n.r(t);var r=n(182),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},182:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var r=n(184),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},184:function(e,t,n){}},[[174,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map