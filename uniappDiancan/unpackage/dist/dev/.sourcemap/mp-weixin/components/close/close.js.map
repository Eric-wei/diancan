{"version":3,"sources":["webpack:///D:/source/diancan/uniappDiancan/components/close/close.vue?7893","webpack:///D:/source/diancan/uniappDiancan/components/close/close.vue?bcfd","webpack:///D:/source/diancan/uniappDiancan/components/close/close.vue?9e81","webpack:///D:/source/diancan/uniappDiancan/components/close/close.vue?2b9e","uni-app:///components/close/close.vue","webpack:///D:/source/diancan/uniappDiancan/components/close/close.vue?08fd"],"names":["renderjs","component","options","__file","components","uPopup","uIcon","uEmpty","uNumberBox","specificationCard","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g0","_self","_c","shopping_trolley_list","data","length","_isMounted","e0","$event","show","e1","e2","specificationShow","$mp","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","name","props","seatShow","type","addAdish","default","pb","computed","Httpimg","value","trolley_list","capsule_button","tableNumber","order_id","order_type","editList","cart_id","watch","methods","gojs","carList","specification","setTimeout","jiacai","id","c_type","res","uni","url","title","icon","inputlenght","reduce","add","valChange","add_joinCar","seat_id","store_id","goods_id","spu_id","count","spu_info","order_reduce","remove","gotable","goback","content","success","peopleCount"],"mappings":"uHAAA,oIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,6BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,oHAITC,MAAO,WACL,OAAO,kHAITC,OAAQ,WACN,OAAO,oHAITC,WAAY,WACV,OAAO,+HAITC,kBAAmB,WACjB,OAAO,gFAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,IAEhBN,EAAIO,sBAAsBC,MACc,GAAzCR,EAAIO,sBAAsBC,KAAKC,QAC5BT,EAAIU,aACPV,EAAIW,GAAK,SAAUC,GACjBZ,EAAIa,MAAO,GAEbb,EAAIc,GAAK,SAAUF,GACjBZ,EAAIa,MAAO,GAEbb,EAAIe,GAAK,SAAUH,GACjBZ,EAAIgB,mBAAoB,IAG5BhB,EAAIiB,IAAIT,KAAOU,OAAOC,OACpB,GACA,CACEC,MAAO,CACLhB,GAAIA,MAKRiB,GAAmB,EACnBC,EAAkB,GACtBvB,EAAOwB,eAAgB,G,iCC3EvB,yHAAovB,eAAG,G,qJCwFvvB,WACA,S,EAMA,CACAC,aACAC,OACAlB,yBACAmB,UACAC,cAEAC,UACAC,YAEAC,IACAD,kBAGAE,UACAC,mBACA,2BAGAxB,gBACA,OAEAK,QACAoB,SACAC,gBACAC,iBACAC,gDACApB,qBACAqB,YACAC,cACAC,YACAC,aAGAC,OACAlC,oCACAV,wCACA,oBACA,qBAGA6C,SACAC,iBACA,kBACA9C,eACA,kBAGAA,eACA,iBAGA+C,mBACA,qBACA,2BAEAC,0BAAA,WACA,gBAKA,GAJA,aACA,yBACA,kBACA,uBACA,WACA,2BACA,qBAEA,4BAEAC,uBACA,uBACA,4CACA,OAKAC,mBAAA,oJACApB,GAAA,eACA,OAAAqB,8BAAA,UACA,WACAA,KACAC,cACA,OAcA,OAjBAC,SAIA,YACA,eACAC,mCACAA,6BACAA,YACAC,qCAGAD,YACAC,sCAIA,+BAGA,kDACA,OAAAJ,8BAAA,WACA,WACAA,KACAC,cACA,QAHAC,SAIA,YACA,eACAC,mCACAA,6BACAA,YACAC,qCAGAD,YACAC,sCAIA,wBAEAD,aACAE,cACAC,cACA,2CA/CA,IAmDAC,uBAAA,WACA,cACA,wBACA,8CACA,0BAIAC,uBACA,eACA,QACA,UACAL,kCACA,2BAGA,oCAGAM,oBACA,eACA,YACAN,kCACA,0BAEA,mCAGAO,wBACAC,0BAAA,0IACA,OAAAC,4BAAA,UACA,oBACAC,oBACAC,oBACAC,iBACAC,QACAC,WACAL,YACA,OAPApD,OAQA,4DAVA,IAYA0D,2BAAA,qJACA,mBACAL,oBACAC,oBACAC,iBACAC,QACAC,WACAzB,eACA,OAPAhC,OAQA,4DATA,IAaA2D,kBAAA,qJACA,0BAAA3D,OACA,kBACA,oDAHA,IAMA4D,oBACA,EACAjB,cACAC,wDAIA,mCACA,4CACAD,aACAE,kBACAC,cAGAH,cACAC,gDAIAD,aACAE,kBACAC,eAOAe,mBACA,+BACA,qCACA,kBACAlB,aACAE,WACAiB,4BACAC,oBACA,UAEApB,YACAC,qCAEA,gBAGA,CACA,MACA,MACA,iBAEAA,qFAEA,CACA,mCAEAA,EADA,KACAA,+EAEAA,wEAIA,yCAIAD,cACAC,aAJA,uBAQA,sCACA,+CACAD,aACAE,kBACAC,kBAEA,CACA,MACA,iBAEAF,EADA,EACAA,4EACAoB,GAEApB,2EAEA,CACA,mCAGAA,EAFA,KACA,EACAA,4EACAoB,GAEApB,uEAGAA,gEAIA,iCAEA,YADA,uBAGA,mCACAD,cACAC,QAGAD,aACAE,eACAC,mBAKAzD,mBACAsD,aACAE,kBACAC,kBAQA,c,6DCvZA,yHAAu4C,eAAG,G","file":"components/close/close.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./close.vue?vue&type=template&id=565f98b6&\"\nvar renderjs\nimport script from \"./close.vue?vue&type=script&lang=js&\"\nexport * from \"./close.vue?vue&type=script&lang=js&\"\nimport style0 from \"./close.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/close/close.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./close.vue?vue&type=template&id=565f98b6&\"","var components\ntry {\n  components = {\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-empty/u-empty\" */ \"uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uNumberBox: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-number-box/u-number-box\" */ \"uview-ui/components/u-number-box/u-number-box.vue\"\n      )\n    },\n    specificationCard: function () {\n      return import(\n        /* webpackChunkName: \"components/specificationCard/specificationCard\" */ \"@/components/specificationCard/specificationCard.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    !_vm.shopping_trolley_list.data ||\n    _vm.shopping_trolley_list.data.length == 0\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.show = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.show = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.specificationShow = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./close.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./close.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 悬浮结算 -->\r\n\t<view>\r\n\t\t<view class=\"box\" :style=\"{paddingBottom:pb}\">\r\n\t\t\t<view class=\"box_content\" @tap=\"show=true\">\r\n\t\t\t\t<view class=\"box_img\">\r\n\t\t\t\t\t<image :src=\"Httpimg+'orderb.png'\" mode=\"\" v-if=\"Httpimg\"></image>\r\n\t\t\t\t\t<text v-if=\"shopping_trolley_list.count>0\">{{shopping_trolley_list.count || 0}}</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex ac\">\r\n\r\n\t\t\t\t<view class=\"box_price\">\r\n\t\t\t\t\t<text class=\"box_price1\">合计¥</text>\r\n\t\t\t\t\t<text class=\"box_price2\">{{shopping_trolley_list.after_total||0}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box_close flex jc ac\" v-if=\"addAdish\" @click=\"jiacai\">\r\n\t\t\t\t\t确认加菜\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box_close  flex jc ac\" v-else @tap=\"gojs()\">\r\n\t\t\t\t\t去结算\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-popup :show=\"show\" :round=\"10\" zIndex='10071' mode=\"bottom\" @close=\"show=false\">\r\n\t\t\t<view class=\"upcart\">\r\n\t\t\t\t<view class=\"upcart_top\">\r\n\t\t\t\t\t<view class=\"upcart_top_left\">\r\n\t\t\t\t\t\t已选商品\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"upcart_top_right\" @tap=\"remove()\">\r\n\t\t\t\t\t\t<u-icon name=\"trash\" color=\"#676767 \" size=\"30\"></u-icon>\r\n\t\t\t\t\t\t<text>清空</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"upcart_order\">\r\n\t\t\t\t\t<view style=\"margin-top: 150rpx;\"\r\n\t\t\t\t\t\tv-if=\"!shopping_trolley_list.data ||shopping_trolley_list.data.length==0 \">\r\n\t\t\t\t\t\t<u-empty mode=\"data\" :iconSize='150' :textSize='24' text='购物车空空如也'\r\n\t\t\t\t\t\t\ticon=\"/static/dc-empty.png\"></u-empty>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 570rpx;\">\r\n\t\t\t\t\t\t<view class=\"upcart_order_content\" v-for=\"(item,index) in shopping_trolley_list.data\"\r\n\t\t\t\t\t\t\t:key=\"item\">\r\n\t\t\t\t\t\t\t<view class=\"upcart_order_content_img\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"upcart_order_content_title\">\r\n\t\t\t\t\t\t\t\t<view>{{item.title}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flexc\" style=\"height: 40rpx;\" @click=\"specification(item)\">\r\n\t\t\t\t\t\t\t\t\t<view>{{item.item_name}}</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\" item.item_name\" class=\"\" style=\"padding: 8rpx 0 0rpx 10rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t<u-icon name='arrow-right' size='24'></u-icon>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t<text>￥{{item.price}}</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<u-number-box v-model=\"value[index]\" @change=\"valChange\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view slot=\"minus\" class=\"minus\" @tap=\"reduce(item,index,item.count)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"minus\" labelSize='20px' color=\"#333\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<text slot=\"input\" style=\"width: 50px;text-align: center;\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"input\">{{value[index]||item.count}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view slot=\"plus\" class=\"plus\" @tap=\"add(item,index,item.count,1)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"plus\" labelSize='20px' color=\"#FFFFFF\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</u-number-box>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"\" style=\"height: 80rpx;\"></view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\r\n\t\t<specificationCard @carList='carList' :cart_id='cart_id' :editList='editList' ref='specificationCard'\r\n\t\t\t:order_id='order_id' :type='order_type' @order='carList' :show='specificationShow'\r\n\t\t\t@close='specificationShow=false'>\r\n\t\t</specificationCard>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport config from '@/config.js'\r\n\timport {\r\n\t\torder_joinCar,\r\n\t\torder_reduce,\r\n\t\torder_empty,\r\n\t\tjiac,\r\n\t} from \"@/api/comm.js\"\r\n\texport default {\r\n\t\tname: \"close\",\r\n\t\tprops: {\r\n\t\t\tshopping_trolley_list: {},\r\n\t\t\tseatShow: {\r\n\t\t\t\ttype: Boolean\r\n\t\t\t},\r\n\t\t\taddAdish: {\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tpb: {\r\n\t\t\t\tdefault: '10rpx'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tHttpimg() {\r\n\t\t\t\treturn config.HttpImg\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\r\n\t\t\t\tshow: false,\r\n\t\t\t\tvalue: [],\r\n\t\t\t\ttrolley_list: {},\r\n\t\t\t\tcapsule_button: 2,\r\n\t\t\t\ttableNumber: uni.getStorageSync('tableNumber') || false,\r\n\t\t\t\tspecificationShow: false,\r\n\t\t\t\torder_id: \"\",\r\n\t\t\t\torder_type: '',\r\n\t\t\t\teditList: [],\r\n\t\t\t\tcart_id: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tshopping_trolley_list: function(newval, oldval) {\r\n\t\t\t\tconsole.log(this.shopping_trolley_list)\r\n\t\t\t\tthis.trolley_list = newval\r\n\t\t\t\tthis.inputlenght()\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgojs(type) {\r\n\t\t\t\tif (this.tableNumber) {\r\n\t\t\t\t\tconsole.log(1)\r\n\t\t\t\t\tthis.gotable(type)\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(2)\r\n\t\t\t\t\tthis.goback(type)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcarList() {\r\n\t\t\t\tthis.$emit('update')\r\n\t\t\t\tthis.specificationShow = false\r\n\t\t\t},\r\n\t\t\tspecification(item) {\r\n\t\t\t\tif (item.item_name) {\r\n\t\t\t\t\tthis.show = false\r\n\t\t\t\t\tthis.order_id = item.goods_id\r\n\t\t\t\t\tthis.cart_id = item.id\r\n\t\t\t\t\tthis.order_type = item.type\r\n\t\t\t\t\tif (item.type == 2) {\r\n\t\t\t\t\t\tlet arr = item.item_id.split('_')\r\n\t\t\t\t\t\tthis.editList = arr\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.editList = item.spu_info_ys\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.specificationShow = true\r\n\t\t\t\t\t\tthis.$refs.specificationCard.specification()\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t},\r\n\t\t\tasync jiacai(type) {\r\n\t\t\t\tif (type) {\r\n\t\t\t\t\tlet id = uni.getStorageSync('orderId')\r\n\t\t\t\t\tlet res = await jiac({\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tc_type: type || 1\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tif (this.tableNumber) {\r\n\t\t\t\t\t\t\tuni.setStorageSync('tableNumber', false)\r\n\t\t\t\t\t\t\tuni.setStorageSync('option', 1)\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/merchant/order/order'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/order_form/order_form'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.shopping_trolley_list.count > 0) {\r\n\t\t\t\t\tlet id = uni.getStorageSync('orderId')\r\n\t\t\t\t\tlet res = await jiac({\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tc_type: type || 1\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tif (this.tableNumber) {\r\n\t\t\t\t\t\t\tuni.setStorageSync('tableNumber', false)\r\n\t\t\t\t\t\t\tuni.setStorageSync('option', 1)\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/merchant/order/order'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/order_form/order_form'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请添加菜品',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tinputlenght() {\r\n\t\t\t\tthis.value = []\r\n\t\t\t\tif (this.trolley_list.data) {\r\n\t\t\t\t\tthis.trolley_list.data.forEach((res, index) => {\r\n\t\t\t\t\t\tthis.value.push(res.count)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treduce(item, index, count) {\r\n\t\t\t\tif (item.is_cw == 1) {\r\n\t\t\t\t\tif (count > 1) {\r\n\t\t\t\t\t\tlet num = count - 1\r\n\t\t\t\t\t\tuni.setStorageSync('peopleCount', num)\r\n\t\t\t\t\t\tthis.$emit('update')\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.order_reduce(item, item.spu_info_ys)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tadd(item, index, count) {\r\n\t\t\t\tif (item.is_cw == 1) {\r\n\t\t\t\t\tlet num = count - 0 + 1\r\n\t\t\t\t\tuni.setStorageSync('peopleCount', num)\r\n\t\t\t\t\tthis.$emit('update')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add_joinCar(item, item.spu_info_ys)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvalChange(e) {},\r\n\t\t\tasync add_joinCar(item, info) {\r\n\t\t\t\tlet seat_id = uni.getStorageSync('scene')\r\n\t\t\t\tlet data = await order_joinCar({\r\n\t\t\t\t\tstore_id: item.store_id,\r\n\t\t\t\t\tgoods_id: item.goods_id,\r\n\t\t\t\t\tspu_id: item.item_id,\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tspu_info: info,\r\n\t\t\t\t\tseat_id\r\n\t\t\t\t})\r\n\t\t\t\tthis.$emit('update')\r\n\t\t\t},\r\n\t\t\tasync order_reduce(item, info) {\r\n\t\t\t\tlet data = await order_reduce({\r\n\t\t\t\t\tstore_id: item.store_id,\r\n\t\t\t\t\tgoods_id: item.goods_id,\r\n\t\t\t\t\tspu_id: item.item_id,\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tspu_info: info,\r\n\t\t\t\t\tcart_id: item.id\r\n\t\t\t\t})\r\n\t\t\t\tthis.$emit('update')\r\n\t\t\t},\r\n\r\n\t\t\t// 清空购物车\r\n\t\t\tasync remove() {\r\n\t\t\t\tlet data = await order_empty()\r\n\t\t\t\tthis.$emit('update')\r\n\t\t\t\tthis.show = false\r\n\t\t\t},\r\n\t\t\t// 员工点餐去结算\r\n\t\t\tgotable(type) {\r\n\t\t\t\tif (type) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/merchant/tableNumber/tableNumber?ctype=2'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.shopping_trolley_list.count > 0) {\r\n\t\t\t\t\tif (this.shopping_trolley_list.data[0].is_cw == 1) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请至少选择一个商品',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/merchant/tableNumber/tableNumber'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请至少选择一个商品',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 去结算\r\n\t\t\tgoback(type) { //type 是否是立即购买\r\n\t\t\t\tlet user = uni.getStorageSync('user')\r\n\t\t\t\tlet peopleCount = uni.getStorageSync('peopleCount') || 0\r\n\t\t\t\tif (user.order_num == 1) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '你有未支付订单,请支付过后重新提交',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t//未登录\r\n\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/order_form/order_form'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else if (res.cancel) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (type) {\r\n\t\t\t\t\t\tlet url;\r\n\t\t\t\t\t\tif (this.seatShow) {\r\n\r\n\t\t\t\t\t\t\turl = '/pages/order_all/affirm_order/affirm_order?ctype=2' + `&peopleCount=${peopleCount}`\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet e = uni.getStorageSync('firstPay')\r\n\t\t\t\t\t\t\tif (e == 1) {\r\n\t\t\t\t\t\t\t\turl = '/pages/order_all/affirm_order/affirm_order?ctype=2' + `&peopleCount=${peopleCount}`\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\turl = '/pages/scan/peopleOrder/peopleOrder?ctype=2' + `&peopleCount=${peopleCount}`\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!uni.getStorageSync('userinfo')) {\r\n\t\t\t\t\t\t\tthis.$emit('register')\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.shopping_trolley_list.count > 0) {\r\n\t\t\t\t\t\tif (this.shopping_trolley_list.data[0].is_cw == 1) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '请至少选择一个商品',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet url;\r\n\t\t\t\t\t\t\tif (this.seatShow) {\r\n\t\t\t\t\t\t\t\tif (type) {\r\n\t\t\t\t\t\t\t\t\turl = '/pages/order_all/affirm_order/affirm_order?ctype=2' +\r\n\t\t\t\t\t\t\t\t\t\t`&peopleCount=${peopleCount}`\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\turl = '/pages/order_all/affirm_order/affirm_order' + `?peopleCount=${peopleCount}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tlet e = uni.getStorageSync('firstPay')\r\n\t\t\t\t\t\t\t\tif (e == 1) {\r\n\t\t\t\t\t\t\t\t\tif (type) {\r\n\t\t\t\t\t\t\t\t\t\turl = '/pages/order_all/affirm_order/affirm_order?ctype=2' +\r\n\t\t\t\t\t\t\t\t\t\t\t`&peopleCount=${peopleCount}`\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\turl = '/pages/order_all/affirm_order/affirm_order' + `?peopleCount=${peopleCount}`\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\turl = '/pages/scan/peopleOrder/peopleOrder' + `?peopleCount=${peopleCount}`\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (!uni.getStorageSync('userinfo')) {\r\n\t\t\t\t\t\t\t\tthis.$emit('register')\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.shopping_trolley_list.count > 0) {\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '无商品可结算',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('进入了')\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请至少选择一个商品',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\t// height: 101rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0rpx 3rpx 15rpx 0rpx rgba(191, 202, 211, 0.46);\r\n\t\t// border-radius: 51rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0rpx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tz-index: 10072;\r\n\t\tpadding: 20rpx 30rpx 10rpx 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.box_content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.box_img {\r\n\t\t\twidth: 64rpx;\r\n\t\t\theight: 64rpx;\r\n\t\t\t// margin: 0 30rpx;\r\n\t\t\t// margin-left: 50rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\ttext {\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\theight: 40rpx;\r\n\t\t\t\tbackground-color: #E40030;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 40rpx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: -20rpx;\r\n\t\t\t\ttop: -15rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.box_price {\r\n\t\t\tmargin-right: 48rpx;\r\n\r\n\t\t\t.box_price1 {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tmargin-right: 6rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.box_price2 {\r\n\t\t\t\tfont-size: 42rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.box_close {\r\n\t\t\twidth: 173rpx;\r\n\t\t\theight: 72rpx;\r\n\t\t\tbackground: #E40030;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\t// border-radius: 0rpx 89rpx 89rpx 0rpx;\r\n\t\t\t// line-height: 101rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #fff;\r\n\t\t}\r\n\t}\r\n\r\n\t.upcart {\r\n\t\twidth: 100%;\r\n\t\theight: 700rpx;\r\n\r\n\t\t.upcart_top {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 20rpx 30rpx;\r\n\r\n\t\t\t.upcart_top_left {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t}\r\n\r\n\t\t\t.upcart_top_right {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #676767;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.upcart_order_content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 0rpx 20rpx;\r\n\t\t\theight: 135rpx;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t.upcart_order_content_img {\r\n\t\t\t\twidth: 136rpx;\r\n\t\t\t\theight: 135rpx;\r\n\t\t\t\tborder-radius: 7rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\r\n\t\t\t.upcart_order_content_title {\r\n\t\t\t\twidth: 540rpx;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t\tview:nth-child(1) {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tcolor: #353535;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tview:nth-child(2) {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tcolor: #676767;\r\n\t\t\t\t\tpadding: 15rpx 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tview:nth-child(3) {\r\n\t\t\t\t\theight: 45rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tcolor: #E45F3A;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.minus {\r\n\t\twidth: 22px;\r\n\t\theight: 22px;\r\n\t\tborder-width: 1px;\r\n\t\tborder-color: #E40030;\r\n\t\tborder-style: solid;\r\n\t\tborder-top-left-radius: 100px;\r\n\t\tborder-top-right-radius: 100px;\r\n\t\tborder-bottom-left-radius: 100px;\r\n\t\tborder-bottom-right-radius: 100px;\r\n\t\t@include flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.input {\r\n\t\t// padding: 0 10px;\r\n\t}\r\n\r\n\t.plus {\r\n\t\twidth: 22px;\r\n\t\theight: 22px;\r\n\t\tbackground-color: #E40030;\r\n\t\tborder-radius: 50%;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./close.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./close.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}